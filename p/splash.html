<html>
<title></title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="../bower_components/jquery/dist/jquery.js"></script>
<style>

* {
    margin: 0;
    padding: 0;
}

body {
    position: relative;
    background-color: #C1C6CB;
    text-align: center;
}

.reset {
    position: absolute;
    left: 0; top: 0;
}

.splash-logo {
    width: 50%;
    margin-top: 180px;
    transition-duration: 500ms;
    transition-timing-function: ease;
}

</style>

<script src="../js/util.js"></script>
<script>


pages = window.pages || {};
pages.splash = (function () {
    var exports = {};

    exports.main = function () {

        var logo = new Logo('../img/kt3k-logo-v1.svg');

        logo.appendTo(document.body);

        logo.animation().then(function () {

            var logo = new Logo('../img/kt3k-logo-v2.svg');

            logo.appendTo(document.body);

            return logo.animation();

        }).then(function () {

            var logo = new Logo('../img/straw-logo.svg');

            logo.appendTo(document.body);

            return logo.animation();

        }).then(function () {
            location.href = './title.html';
        });
    };

    var Logo = function (path) {
        this.img = $('<img />').attr('src', path)

        this.reset();
    };

    Logo.prototype.reset = function (dom) {
        this.img
            .addClass('splash-logo')
            .css('opacity', 0)
            .css('transform', 'translate(0, -10px)');
    };

    Logo.prototype.appendTo = function (dom) {
        this.img.appendTo(dom);

        return this;
    };

    Logo.prototype.animation = function () {
        var logo = this.img;

        return wait(100)().then(function () {

            logo.css('opacity', 1);
            logo.css('transform', 'translate(0, 0)');

        }).then(wait(1000)).then(function () {

            logo.css('opacity', 0);
            logo.css('transform', 'translate(0, 10px)');

        }).then(wait(500)).then(function () {

            logo.remove();

        });
    };

    return exports;
}());

$(pages.splash.main);

</script>

<body>

<div id="main"></div>

<button class="reset" onclick="pages.splash.main();">reset</button>


</body>
</html>
